<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
 "http://www.w3.org/TR/html4/loose.dtd">
<html>
<HEAD>
   <TITLE>Chapter 16 Notes</TITLE>
<link href="../../styles/cs325.css" rel="stylesheet" type="text/css">
</HEAD>
<BODY>
<DIV ID="logo">
<A CLASS="plain" HREF="../../index.html" target=_top>
<IMG SRC="../../images/cs325logo.gif" ALT="CS 325 Logo" BORDER="0"></A>
</DIV>
<DIV ID="banner">Chapter 16 Notes</DIV>

<H3>Page 260</H3>

<H4><TT>as, with</TT></H4>

<P>These are pretty poor names in that they don't convey what they're
about. I prefer</P>

<PRE>(in-html <I>tag string</I>)</PRE>

<P>and</P>

<PRE>(with-html <I>tag expression</I> ...)</PRE>

<H3>Page 261</H3>

<H4>html-file</H4>

<P>Graham's definition assumes lowercase 4-character file extensions
with the period separator. This works for Mac's and Unix boxes and
Windows 95, but not for Windows 3.1 and perhaps not for other
systems.</P>

<P>Use <CODE>make-pathname</CODE> to create file names and put
extensions in user-modifiable parameters, e.g., </P>

<PRE>(defparameter *html-extension* "html"
  "The standard extension for HTML files.")
&nbsp;
(defun html-file (base)
  (make-pathname :name base :type *html-extension*))</PRE>

<H3>Page 263</H3>

<H4>map3</H4>

<P>Graham's definition counts on tail-call
elimination to avoid overflowing the stack on long lists.
You can't assume this will happen in Common Lisp.</P>

<P>A more typical Common Lisp definition would be:</P>

<PRE>(defun map3 (fn lst)
  (do ((l lst (cdr l))
       (prev nil (car l)))
      ((null l) nil)
    (funcall fn (car l) prev (cadr l))))</PRE>

<H4>"It takes a lot of rewriting to make a program simple."</H4>

<P>Open up your skull and carve this into your brain.</P>

<H4>mapc</H4>

<P><CODE>mapc</CODE> doesn't return <CODE>nil</CODE>. It returns its
second argument.</P>

<HR>

<P ID="closing">Comments? <IMG SRC="../../images/comments.gif"
ALIGN=bottom> Send mail to <A HREF="mailto:riesbeck@cs.northwestern.edu">Chris
Riesbeck</A>.</P>

</BODY>
</HTML>
