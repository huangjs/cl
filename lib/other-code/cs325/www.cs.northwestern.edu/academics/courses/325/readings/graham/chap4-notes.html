<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
 "http://www.w3.org/TR/html4/loose.dtd">
<HTML
<HEAD>
   <TITLE>Chapter 4 Notes</TITLE>
<link href="../../styles/cs325.css" rel="stylesheet" type="text/css">
</HEAD>
<BODY>
<DIV ID="logo">
<A CLASS="plain" HREF="../../index.html" target=_top>
<IMG SRC="../../images/cs325logo.gif" ALT="CS 325 Logo" BORDER="0"></A>
</DIV>
<DIV ID="banner">Chapter 4 Notes</DIV>

<H3>Page 60</H3>

<P>I leave as an exercise for the reader to come up with a clearer
set of definitions for Figure 4.1.</P>

<H3>Page 65</H3>

<P>The function <CODE>second-word</CODE> should have more checks in
it. Never assume that <CODE>position</CODE> will return a number. It
might return <CODE>nil</CODE>.</P>

<H3>Page 70</H3>

<P>Warning to Macintosh Common Lisp users: Do not define a
structure called <CODE>point</CODE> in the <CODE>CL-USER</CODE>
package. MCL already uses <CODE>point</CODE> for its graphical interface
code.</P>

<H3>Page 72</H3>

<P>This binary tree code is very inefficient. Inserting a new
element, for example, copies the nodes above the point where
the element is inserted. Exactly how much gets copied
is left as an exercise for the reader, but such exercises should
not be left for maintainers. A more traditional version that
modifies the branches of the tree destructively -- but cleanly -- 
is in order. Some of this is done in Chapter 12, but not very
cleanly.</P>

<P>There is also <a href="http://www.paulgraham.com/howbroken.html">a serious bug</a>
in the 
<code>bst-remove</code> given in the book. The code
in <a href="../../programs/bst.lisp">bst.lisp</a> is Graham's fixed version.
</P>

<P>Finally, the simple algorithm for insertion used here does
the worst thing possible
when passed a sorted list of elements [<em>which is what?</em>],
which could happen quite easily. For real binary search trees,
you should implement a balancing binary search tree, such as 
<a href="http://tisue.net/cs311/spring-01/notes/red-black.html">red-black</a> or 
<a href="http://www.cmcrossroads.com/bradapp/ftp/src/libs/C++/AvlTrees.html">AVL</a>.
</P>

<HR>

<P ID="closing">Comments? <IMG SRC="../../images/comments.gif"
ALIGN=bottom> Send mail to <A HREF="mailto:riesbeck@cs.northwestern.edu">Chris
Riesbeck</A>.</P>

</BODY>
</HTML>